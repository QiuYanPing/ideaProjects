00:09:13:390  WARN 29476 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h2m3s973ms54µs200ns).
00:15:37:587  WARN 29476 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m24s79ms550µs500ns).
02:29:28:529  WARN 29476 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=24m48s935ms876µs900ns).
03:31:50:041  WARN 29476 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=37m21s80ms933µs200ns).
05:47:48:446  INFO 3196 --- [main] com.qyp.chat.ChatApplication             : Starting ChatApplication using Java 11.0.12 on LAPTOP-C6F2EJ6P with PID 3196 (D:\Users\qyp\Documents\ideaProjects\Chat\target\classes started by qyp in D:\Users\qyp\Documents\ideaProjects\Chat)
05:47:48:447 DEBUG 3196 --- [main] com.qyp.chat.ChatApplication             : Running with Spring Boot v2.7.12, Spring v5.3.27
05:47:48:447  INFO 3196 --- [main] com.qyp.chat.ChatApplication             : The following 1 profile is active: "dev"
05:47:48:977  INFO 3196 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
05:47:48:979  INFO 3196 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
05:47:49:002  INFO 3196 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
05:47:49:312  INFO 3196 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8000 (http)
05:47:49:318  INFO 3196 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
05:47:49:318  INFO 3196 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
05:47:49:445  INFO 3196 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
05:47:49:445  INFO 3196 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 968 ms
05:47:50:348  INFO 3196 --- [main] org.redisson.Version                     : Redisson 3.17.1
05:47:50:440  INFO 3196 --- [redisson-netty-6-18] o.r.c.pool.MasterPubSubConnectionPool    : 1 connections initialized for 192.168.15.155/192.168.15.155:6379
05:47:50:466  INFO 3196 --- [redisson-netty-6-18] o.r.c.pool.MasterConnectionPool          : 24 connections initialized for 192.168.15.155/192.168.15.155:6379
05:47:50:781  INFO 3196 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
05:47:50:831  INFO 3196 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
05:47:50:944  INFO 3196 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8000 (http) with context path '/api'
05:47:50:944  INFO 3196 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
05:47:50:946  INFO 3196 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
05:47:50:962  INFO 3196 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
05:47:51:052  INFO 3196 --- [main] com.qyp.chat.ChatApplication             : Started ChatApplication in 2.881 seconds (JVM running for 3.674)
05:47:51:054  INFO 3196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
05:47:51:229  INFO 3196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
05:47:51:397  INFO 3196 --- [main] com.qyp.chat.InitRun                     : 服务启动成功。
05:47:51:403  INFO 3196 --- [Thread-2] c.q.c.w.netty.NettyWebSocketStarter      : netty启动
05:48:12:244  INFO 3196 --- [http-nio-8000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
05:48:12:244  INFO 3196 --- [http-nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
05:48:12:245  INFO 3196 --- [http-nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
05:48:12:265 ERROR 3196 --- [http-nio-8000-exec-1] c.qyp.chat.interceptor.LoginInterceptor  : /api/error
05:48:28:185 DEBUG 3196 --- [http-nio-8000-exec-6] c.qyp.chat.mapper.UserMapper.selectOne   : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE (email = ?)
05:48:28:217 DEBUG 3196 --- [http-nio-8000-exec-6] c.qyp.chat.mapper.UserMapper.selectOne   : ==> Parameters: 2740123222@qq.com(String)
05:48:28:249 DEBUG 3196 --- [http-nio-8000-exec-6] c.qyp.chat.mapper.UserMapper.selectOne   : <==      Total: 0
05:48:28:277 DEBUG 3196 --- [http-nio-8000-exec-6] com.qyp.chat.mapper.UserMapper.insert    : ==>  Preparing: INSERT INTO user ( user_id, email, nick_name, join_type, password, status, create_time, last_off_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
05:48:28:283 DEBUG 3196 --- [http-nio-8000-exec-6] com.qyp.chat.mapper.UserMapper.insert    : ==> Parameters: Urgemzm17hdh(String), 2740123222@qq.com(String), 第二人(String), 1(Integer), e10adc3949ba59abbe56e057f20f883e(String), 1(Integer), 2025-01-20T05:48:28.271336900(LocalDateTime), 1737323308271(Long)
05:48:28:289 DEBUG 3196 --- [http-nio-8000-exec-6] com.qyp.chat.mapper.UserMapper.insert    : <==    Updates: 1
05:48:28:293 DEBUG 3196 --- [http-nio-8000-exec-6] c.qyp.chat.mapper.ContactMapper.insert   : ==>  Preparing: INSERT INTO contact ( user_id, contact_id, contact_type, create_time, status, last_update_time ) VALUES ( ?, ?, ?, ?, ?, ? )
05:48:28:294 DEBUG 3196 --- [http-nio-8000-exec-6] c.qyp.chat.mapper.ContactMapper.insert   : ==> Parameters: Urgemzm17hdh(String), U12345678901(String), 0(Integer), 2025-01-20T05:48:28.292859700(LocalDateTime), 1(Integer), 2025-01-20T05:48:28.292859700(LocalDateTime)
05:48:28:298 DEBUG 3196 --- [http-nio-8000-exec-6] c.qyp.chat.mapper.ContactMapper.insert   : <==    Updates: 1
05:48:28:335 DEBUG 3196 --- [http-nio-8000-exec-6] c.qyp.chat.mapper.SessionMapper.insert   : ==>  Preparing: INSERT INTO session ( session_id, last_message, last_receive_time ) VALUES ( ?, ?, ? )
05:48:28:337 DEBUG 3196 --- [http-nio-8000-exec-6] c.qyp.chat.mapper.SessionMapper.insert   : ==> Parameters: bcf602117e232dd8575b1be3e9e5faf6(String), 你好啊！！(String), 1737323308292(Long)
05:48:28:340 DEBUG 3196 --- [http-nio-8000-exec-6] c.qyp.chat.mapper.SessionMapper.insert   : <==    Updates: 1
05:48:28:341 DEBUG 3196 --- [http-nio-8000-exec-6] c.q.c.mapper.UserSessionMapper.insert    : ==>  Preparing: INSERT INTO user_session ( user_id, contact_id, session_id, contact_name ) VALUES ( ?, ?, ?, ? )
05:48:28:342 DEBUG 3196 --- [http-nio-8000-exec-6] c.q.c.mapper.UserSessionMapper.insert    : ==> Parameters: Urgemzm17hdh(String), U12345678901(String), bcf602117e232dd8575b1be3e9e5faf6(String), robot(String)
05:48:28:346 DEBUG 3196 --- [http-nio-8000-exec-6] c.q.c.mapper.UserSessionMapper.insert    : <==    Updates: 1
05:48:28:352 DEBUG 3196 --- [http-nio-8000-exec-6] c.qyp.chat.mapper.MessageMapper.insert   : ==>  Preparing: INSERT INTO message ( session_id, message_type, message_content, send_user_id, send_time, contact_id, contact_type, status ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
05:48:28:353 DEBUG 3196 --- [http-nio-8000-exec-6] c.qyp.chat.mapper.MessageMapper.insert   : ==> Parameters: bcf602117e232dd8575b1be3e9e5faf6(String), 2(Integer), 你好啊！！(String), U12345678901(String), 1737323308292(Long), Urgemzm17hdh(String), 0(Integer), 1(Integer)
05:48:28:355 DEBUG 3196 --- [http-nio-8000-exec-6] c.qyp.chat.mapper.MessageMapper.insert   : <==    Updates: 1
05:48:32:561 ERROR 3196 --- [http-nio-8000-exec-2] c.qyp.chat.interceptor.LoginInterceptor  : /api/error
05:48:54:194 DEBUG 3196 --- [http-nio-8000-exec-4] c.qyp.chat.mapper.UserMapper.selectOne   : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE (email = ?)
05:48:54:195 DEBUG 3196 --- [http-nio-8000-exec-4] c.qyp.chat.mapper.UserMapper.selectOne   : ==> Parameters: 2740123221@qq.com(String)
05:48:54:201 DEBUG 3196 --- [http-nio-8000-exec-4] c.qyp.chat.mapper.UserMapper.selectOne   : <==      Total: 1
05:48:54:207 DEBUG 3196 --- [http-nio-8000-exec-4] c.q.c.mapper.ContactMapper.selectList    : ==>  Preparing: SELECT user_id,contact_id,contact_type,create_time,status,last_update_time FROM contact WHERE (user_id = ? AND status = ?)
05:48:54:208 DEBUG 3196 --- [http-nio-8000-exec-4] c.q.c.mapper.ContactMapper.selectList    : ==> Parameters: Udkq7qzrl98r(String), 1(Integer)
05:48:54:210 DEBUG 3196 --- [http-nio-8000-exec-4] c.q.c.mapper.ContactMapper.selectList    : <==      Total: 1
06:04:11:976  INFO 23600 --- [main] com.qyp.chat.ChatApplication             : Starting ChatApplication using Java 11.0.12 on LAPTOP-C6F2EJ6P with PID 23600 (D:\Users\qyp\Documents\ideaProjects\Chat\target\classes started by qyp in D:\Users\qyp\Documents\ideaProjects\Chat)
06:04:11:977 DEBUG 23600 --- [main] com.qyp.chat.ChatApplication             : Running with Spring Boot v2.7.12, Spring v5.3.27
06:04:11:977  INFO 23600 --- [main] com.qyp.chat.ChatApplication             : The following 1 profile is active: "dev"
06:04:12:480  INFO 23600 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
06:04:12:481  INFO 23600 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
06:04:12:506  INFO 23600 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
06:04:12:822  INFO 23600 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8000 (http)
06:04:12:828  INFO 23600 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
06:04:12:829  INFO 23600 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
06:04:12:921  INFO 23600 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
06:04:12:921  INFO 23600 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 921 ms
06:04:13:852  INFO 23600 --- [main] org.redisson.Version                     : Redisson 3.17.1
06:04:13:971  INFO 23600 --- [redisson-netty-6-20] o.r.c.pool.MasterPubSubConnectionPool    : 1 connections initialized for 192.168.15.155/192.168.15.155:6379
06:04:13:988  INFO 23600 --- [redisson-netty-6-19] o.r.c.pool.MasterConnectionPool          : 24 connections initialized for 192.168.15.155/192.168.15.155:6379
06:04:14:271  INFO 23600 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
06:04:14:320  INFO 23600 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
06:04:14:440  INFO 23600 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8000 (http) with context path '/api'
06:04:14:441  INFO 23600 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
06:04:14:442  INFO 23600 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
06:04:14:458  INFO 23600 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
06:04:14:550  INFO 23600 --- [main] com.qyp.chat.ChatApplication             : Started ChatApplication in 2.8 seconds (JVM running for 3.41)
06:04:14:552  INFO 23600 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
06:04:14:737  INFO 23600 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
06:04:14:880  INFO 23600 --- [main] com.qyp.chat.InitRun                     : 服务启动成功。
06:04:14:885  INFO 23600 --- [Thread-2] c.q.c.w.netty.NettyWebSocketStarter      : netty启动
06:05:19:213  INFO 23600 --- [http-nio-8000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
06:05:19:213  INFO 23600 --- [http-nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
06:05:19:215  INFO 23600 --- [http-nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
06:05:19:577 DEBUG 23600 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectOne   : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE (email = ?)
06:05:19:609 DEBUG 23600 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectOne   : ==> Parameters: 2740123221@qq.com(String)
06:05:19:641 DEBUG 23600 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectOne   : <==      Total: 1
06:05:19:661 DEBUG 23600 --- [http-nio-8000-exec-1] c.q.c.mapper.ContactMapper.selectList    : ==>  Preparing: SELECT user_id,contact_id,contact_type,create_time,status,last_update_time FROM contact WHERE (user_id = ? AND status = ?)
06:05:19:661 DEBUG 23600 --- [http-nio-8000-exec-1] c.q.c.mapper.ContactMapper.selectList    : ==> Parameters: Udkq7qzrl98r(String), 1(Integer)
06:05:19:664 DEBUG 23600 --- [http-nio-8000-exec-1] c.q.c.mapper.ContactMapper.selectList    : <==      Total: 1
06:05:54:701 DEBUG 23600 --- [http-nio-8000-exec-3] c.qyp.chat.mapper.UserMapper.selectOne   : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE (email = ?)
06:05:54:702 DEBUG 23600 --- [http-nio-8000-exec-3] c.qyp.chat.mapper.UserMapper.selectOne   : ==> Parameters: 2740123222@qq.com(String)
06:05:54:705 DEBUG 23600 --- [http-nio-8000-exec-3] c.qyp.chat.mapper.UserMapper.selectOne   : <==      Total: 1
06:05:54:711 DEBUG 23600 --- [http-nio-8000-exec-3] c.q.c.mapper.ContactMapper.selectList    : ==>  Preparing: SELECT user_id,contact_id,contact_type,create_time,status,last_update_time FROM contact WHERE (user_id = ? AND status = ?)
06:05:54:711 DEBUG 23600 --- [http-nio-8000-exec-3] c.q.c.mapper.ContactMapper.selectList    : ==> Parameters: Urgemzm17hdh(String), 1(Integer)
06:05:54:713 DEBUG 23600 --- [http-nio-8000-exec-3] c.q.c.mapper.ContactMapper.selectList    : <==      Total: 1
06:06:54:637 ERROR 23600 --- [http-nio-8000-exec-2] c.qyp.chat.interceptor.LoginInterceptor  : /api/error
06:07:29:431 DEBUG 23600 --- [http-nio-8000-exec-4] c.q.chat.mapper.ContactMapper.selectOne  : ==>  Preparing: SELECT user_id,contact_id,contact_type,create_time,status,last_update_time FROM contact WHERE (user_id = ? AND contact_id = ?)
06:07:29:432 DEBUG 23600 --- [http-nio-8000-exec-4] c.q.chat.mapper.ContactMapper.selectOne  : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String)
06:07:29:433 DEBUG 23600 --- [http-nio-8000-exec-4] c.q.chat.mapper.ContactMapper.selectOne  : <==      Total: 0
06:07:29:435 DEBUG 23600 --- [http-nio-8000-exec-4] c.qyp.chat.mapper.UserMapper.selectById  : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE user_id=?
06:07:29:435 DEBUG 23600 --- [http-nio-8000-exec-4] c.qyp.chat.mapper.UserMapper.selectById  : ==> Parameters: Urgemzm17hdh(String)
06:07:29:437 DEBUG 23600 --- [http-nio-8000-exec-4] c.qyp.chat.mapper.UserMapper.selectById  : <==      Total: 1
06:07:29:441 DEBUG 23600 --- [http-nio-8000-exec-4] c.qyp.chat.mapper.ApplyMapper.selectOne  : ==>  Preparing: SELECT apply_id,apply_user_id,receive_user_id,contact_type,contact_id,last_apply_time,status,apply_info FROM apply WHERE (apply_user_id = ? AND contact_id = ? AND receive_user_id = ?)
06:07:29:442 DEBUG 23600 --- [http-nio-8000-exec-4] c.qyp.chat.mapper.ApplyMapper.selectOne  : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String), Urgemzm17hdh(String)
06:07:29:445 DEBUG 23600 --- [http-nio-8000-exec-4] c.qyp.chat.mapper.ApplyMapper.selectOne  : <==      Total: 0
06:07:29:450 DEBUG 23600 --- [http-nio-8000-exec-4] com.qyp.chat.mapper.ApplyMapper.insert   : ==>  Preparing: INSERT INTO apply ( apply_user_id, receive_user_id, contact_type, contact_id, last_apply_time, status, apply_info ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
06:07:29:452 DEBUG 23600 --- [http-nio-8000-exec-4] com.qyp.chat.mapper.ApplyMapper.insert   : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String), 0(Integer), Urgemzm17hdh(String), 1737324449427(Long), 0(Integer), 我是第一人(String)
06:07:29:456 DEBUG 23600 --- [http-nio-8000-exec-4] com.qyp.chat.mapper.ApplyMapper.insert   : <==    Updates: 1
06:07:29:483 ERROR 23600 --- [http-nio-8000-exec-4] c.q.c.exception.GlobalExceptionHandler   : 请求地址:/api/apply/applyAdd错误
06:09:30:628  INFO 24236 --- [main] com.qyp.chat.ChatApplication             : Starting ChatApplication using Java 11.0.12 on LAPTOP-C6F2EJ6P with PID 24236 (D:\Users\qyp\Documents\ideaProjects\Chat\target\classes started by qyp in D:\Users\qyp\Documents\ideaProjects\Chat)
06:09:30:629 DEBUG 24236 --- [main] com.qyp.chat.ChatApplication             : Running with Spring Boot v2.7.12, Spring v5.3.27
06:09:30:629  INFO 24236 --- [main] com.qyp.chat.ChatApplication             : The following 1 profile is active: "dev"
06:09:31:091  INFO 24236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
06:09:31:092  INFO 24236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
06:09:31:113  INFO 24236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
06:09:31:418  INFO 24236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8000 (http)
06:09:31:423  INFO 24236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
06:09:31:423  INFO 24236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
06:09:31:510  INFO 24236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
06:09:31:511  INFO 24236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 859 ms
06:09:32:408  INFO 24236 --- [main] org.redisson.Version                     : Redisson 3.17.1
06:09:32:499  INFO 24236 --- [redisson-netty-6-13] o.r.c.pool.MasterPubSubConnectionPool    : 1 connections initialized for 192.168.15.155/192.168.15.155:6379
06:09:32:525  INFO 24236 --- [redisson-netty-6-19] o.r.c.pool.MasterConnectionPool          : 24 connections initialized for 192.168.15.155/192.168.15.155:6379
06:09:32:806  INFO 24236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
06:09:32:853  INFO 24236 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
06:09:32:969  INFO 24236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8000 (http) with context path '/api'
06:09:32:970  INFO 24236 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
06:09:32:971  INFO 24236 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
06:09:32:986  INFO 24236 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
06:09:33:076  INFO 24236 --- [main] com.qyp.chat.ChatApplication             : Started ChatApplication in 2.653 seconds (JVM running for 3.213)
06:09:33:078  INFO 24236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
06:09:33:209  INFO 24236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
06:09:33:357  INFO 24236 --- [main] com.qyp.chat.InitRun                     : 服务启动成功。
06:09:33:363  INFO 24236 --- [Thread-2] c.q.c.w.netty.NettyWebSocketStarter      : netty启动
06:10:05:381  INFO 24236 --- [http-nio-8000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
06:10:05:381  INFO 24236 --- [http-nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
06:10:05:382  INFO 24236 --- [http-nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
06:10:05:484 DEBUG 24236 --- [http-nio-8000-exec-1] c.q.chat.mapper.ContactMapper.selectOne  : ==>  Preparing: SELECT user_id,contact_id,contact_type,create_time,status,last_update_time FROM contact WHERE (user_id = ? AND contact_id = ?)
06:10:05:497 DEBUG 24236 --- [http-nio-8000-exec-1] c.q.chat.mapper.ContactMapper.selectOne  : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String)
06:10:05:509 DEBUG 24236 --- [http-nio-8000-exec-1] c.q.chat.mapper.ContactMapper.selectOne  : <==      Total: 0
06:10:05:512 DEBUG 24236 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectById  : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE user_id=?
06:10:05:512 DEBUG 24236 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectById  : ==> Parameters: Urgemzm17hdh(String)
06:10:05:516 DEBUG 24236 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectById  : <==      Total: 1
06:10:05:519 DEBUG 24236 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.ApplyMapper.selectOne  : ==>  Preparing: SELECT apply_id,apply_user_id,receive_user_id,contact_type,contact_id,last_apply_time,status,apply_info FROM apply WHERE (apply_user_id = ? AND contact_id = ? AND receive_user_id = ?)
06:10:05:519 DEBUG 24236 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.ApplyMapper.selectOne  : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String), Urgemzm17hdh(String)
06:10:05:520 DEBUG 24236 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.ApplyMapper.selectOne  : <==      Total: 0
06:10:05:523 DEBUG 24236 --- [http-nio-8000-exec-1] com.qyp.chat.mapper.ApplyMapper.insert   : ==>  Preparing: INSERT INTO apply ( apply_user_id, receive_user_id, contact_type, contact_id, last_apply_time, status, apply_info ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
06:10:05:523 DEBUG 24236 --- [http-nio-8000-exec-1] com.qyp.chat.mapper.ApplyMapper.insert   : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String), 0(Integer), Urgemzm17hdh(String), 1737324605448(Long), 0(Integer), 我是第一人(String)
06:10:05:524 DEBUG 24236 --- [http-nio-8000-exec-1] com.qyp.chat.mapper.ApplyMapper.insert   : <==    Updates: 1
06:10:05:537 ERROR 24236 --- [http-nio-8000-exec-1] c.q.c.exception.GlobalExceptionHandler   : 请求地址:/api/apply/applyAdd错误
06:12:52:727  INFO 30204 --- [main] com.qyp.chat.ChatApplication             : Starting ChatApplication using Java 11.0.12 on LAPTOP-C6F2EJ6P with PID 30204 (D:\Users\qyp\Documents\ideaProjects\Chat\target\classes started by qyp in D:\Users\qyp\Documents\ideaProjects\Chat)
06:12:52:728 DEBUG 30204 --- [main] com.qyp.chat.ChatApplication             : Running with Spring Boot v2.7.12, Spring v5.3.27
06:12:52:728  INFO 30204 --- [main] com.qyp.chat.ChatApplication             : The following 1 profile is active: "dev"
06:12:53:202  INFO 30204 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
06:12:53:203  INFO 30204 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
06:12:53:224  INFO 30204 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
06:12:53:513  INFO 30204 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8000 (http)
06:12:53:518  INFO 30204 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
06:12:53:519  INFO 30204 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
06:12:53:603  INFO 30204 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
06:12:53:603  INFO 30204 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 852 ms
06:12:54:486  INFO 30204 --- [main] org.redisson.Version                     : Redisson 3.17.1
06:12:54:578  INFO 30204 --- [redisson-netty-6-13] o.r.c.pool.MasterPubSubConnectionPool    : 1 connections initialized for 192.168.15.155/192.168.15.155:6379
06:12:54:604  INFO 30204 --- [redisson-netty-6-19] o.r.c.pool.MasterConnectionPool          : 24 connections initialized for 192.168.15.155/192.168.15.155:6379
06:12:54:891  INFO 30204 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
06:12:54:939  INFO 30204 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
06:12:55:051  INFO 30204 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8000 (http) with context path '/api'
06:12:55:051  INFO 30204 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
06:12:55:053  INFO 30204 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
06:12:55:068  INFO 30204 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
06:12:55:156  INFO 30204 --- [main] com.qyp.chat.ChatApplication             : Started ChatApplication in 2.636 seconds (JVM running for 3.177)
06:12:55:158  INFO 30204 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
06:12:55:292  INFO 30204 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
06:12:55:424  INFO 30204 --- [main] com.qyp.chat.InitRun                     : 服务启动成功。
06:12:55:431  INFO 30204 --- [Thread-2] c.q.c.w.netty.NettyWebSocketStarter      : netty启动
06:13:04:609  INFO 30204 --- [http-nio-8000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
06:13:04:609  INFO 30204 --- [http-nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
06:13:04:610  INFO 30204 --- [http-nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
06:13:04:710 DEBUG 30204 --- [http-nio-8000-exec-1] c.q.chat.mapper.ContactMapper.selectOne  : ==>  Preparing: SELECT user_id,contact_id,contact_type,create_time,status,last_update_time FROM contact WHERE (user_id = ? AND contact_id = ?)
06:13:04:724 DEBUG 30204 --- [http-nio-8000-exec-1] c.q.chat.mapper.ContactMapper.selectOne  : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String)
06:13:04:736 DEBUG 30204 --- [http-nio-8000-exec-1] c.q.chat.mapper.ContactMapper.selectOne  : <==      Total: 0
06:13:04:739 DEBUG 30204 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectById  : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE user_id=?
06:13:04:739 DEBUG 30204 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectById  : ==> Parameters: Urgemzm17hdh(String)
06:13:04:743 DEBUG 30204 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectById  : <==      Total: 1
06:13:04:745 DEBUG 30204 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.ApplyMapper.selectOne  : ==>  Preparing: SELECT apply_id,apply_user_id,receive_user_id,contact_type,contact_id,last_apply_time,status,apply_info FROM apply WHERE (apply_user_id = ? AND contact_id = ? AND receive_user_id = ?)
06:13:04:745 DEBUG 30204 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.ApplyMapper.selectOne  : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String), Urgemzm17hdh(String)
06:13:04:747 DEBUG 30204 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.ApplyMapper.selectOne  : <==      Total: 0
06:13:04:749 DEBUG 30204 --- [http-nio-8000-exec-1] com.qyp.chat.mapper.ApplyMapper.insert   : ==>  Preparing: INSERT INTO apply ( apply_user_id, receive_user_id, contact_type, contact_id, last_apply_time, status, apply_info ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
06:13:04:750 DEBUG 30204 --- [http-nio-8000-exec-1] com.qyp.chat.mapper.ApplyMapper.insert   : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String), 0(Integer), Urgemzm17hdh(String), 1737324784673(Long), 0(Integer), 我是第一人(String)
06:13:04:750 DEBUG 30204 --- [http-nio-8000-exec-1] com.qyp.chat.mapper.ApplyMapper.insert   : <==    Updates: 1
06:13:04:762 ERROR 30204 --- [http-nio-8000-exec-1] c.q.c.exception.GlobalExceptionHandler   : 请求地址:/api/apply/applyAdd错误
06:17:46:266  INFO 25908 --- [main] com.qyp.chat.ChatApplication             : Starting ChatApplication using Java 11.0.12 on LAPTOP-C6F2EJ6P with PID 25908 (D:\Users\qyp\Documents\ideaProjects\Chat\target\classes started by qyp in D:\Users\qyp\Documents\ideaProjects\Chat)
06:17:46:267 DEBUG 25908 --- [main] com.qyp.chat.ChatApplication             : Running with Spring Boot v2.7.12, Spring v5.3.27
06:17:46:268  INFO 25908 --- [main] com.qyp.chat.ChatApplication             : The following 1 profile is active: "dev"
06:17:46:758  INFO 25908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
06:17:46:759  INFO 25908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
06:17:46:780  INFO 25908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
06:17:47:091  INFO 25908 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8000 (http)
06:17:47:096  INFO 25908 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
06:17:47:097  INFO 25908 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
06:17:47:195  INFO 25908 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
06:17:47:195  INFO 25908 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 904 ms
06:17:48:148  INFO 25908 --- [main] org.redisson.Version                     : Redisson 3.17.1
06:17:48:234  INFO 25908 --- [redisson-netty-6-11] o.r.c.pool.MasterPubSubConnectionPool    : 1 connections initialized for 192.168.15.155/192.168.15.155:6379
06:17:48:258  INFO 25908 --- [redisson-netty-6-19] o.r.c.pool.MasterConnectionPool          : 24 connections initialized for 192.168.15.155/192.168.15.155:6379
06:17:48:531  INFO 25908 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
06:17:48:578  INFO 25908 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
06:17:48:721  INFO 25908 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8000 (http) with context path '/api'
06:17:48:722  INFO 25908 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
06:17:48:724  INFO 25908 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
06:17:48:739  INFO 25908 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
06:17:48:826  INFO 25908 --- [main] com.qyp.chat.ChatApplication             : Started ChatApplication in 2.764 seconds (JVM running for 3.33)
06:17:48:828  INFO 25908 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
06:17:48:960  INFO 25908 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
06:17:49:153  INFO 25908 --- [main] com.qyp.chat.InitRun                     : 服务启动成功。
06:17:49:159  INFO 25908 --- [Thread-2] c.q.c.w.netty.NettyWebSocketStarter      : netty启动
06:18:08:919  INFO 25908 --- [nioEventLoopGroup-3-1] c.q.c.websocket.netty.HandlerWebSocket   : 建立连接
06:18:08:998  INFO 25908 --- [nioEventLoopGroup-3-1] c.q.c.websocket.netty.HandlerWebSocket   : token:038d9416762341b7eff117b3baf6ed2c
06:18:09:052 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.qyp.chat.mapper.UserMapper.updateById  : ==>  Preparing: UPDATE user SET last_login_time=? WHERE user_id=?
06:18:09:066 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.qyp.chat.mapper.UserMapper.updateById  : ==> Parameters: 2025-01-20T06:18:09.020563800(LocalDateTime), Udkq7qzrl98r(String)
06:18:09:070 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.qyp.chat.mapper.UserMapper.updateById  : <==    Updates: 1
06:18:09:074 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.qyp.chat.mapper.UserMapper.selectById  : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE user_id=?
06:18:09:075 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.qyp.chat.mapper.UserMapper.selectById  : ==> Parameters: Udkq7qzrl98r(String)
06:18:09:088 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.qyp.chat.mapper.UserMapper.selectById  : <==      Total: 1
06:18:09:092 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.q.c.m.U.selectAllUserSession           : ==>  Preparing: select u.* , s.last_message , s.last_receive_time , case when substring(u.contact_id, 1, 1) = 'G' then (select count(*) from `group` g where g.group_id = u.contact_id) else 0 end as memberCount from user_session u, session s where u.session_id = s.session_id and u.user_id = ? order by s.last_receive_time desc
06:18:09:092 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.q.c.m.U.selectAllUserSession           : ==> Parameters: Udkq7qzrl98r(String)
06:18:09:096 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.q.c.m.U.selectAllUserSession           : <==      Total: 1
06:18:09:111 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.q.c.mapper.MessageMapper.selectList    : ==>  Preparing: SELECT message_id,session_id,message_type,message_content,send_user_id,send_user_nick_name,send_time,contact_id,contact_type,file_size,file_name,file_type,status FROM message WHERE (contact_id IN (?) AND send_time > ?)
06:18:09:111 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.q.c.mapper.MessageMapper.selectList    : ==> Parameters: Udkq7qzrl98r(String), 1737292528610(Long)
06:18:09:112 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.q.c.mapper.MessageMapper.selectList    : <==      Total: 0
06:18:09:115 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.q.chat.mapper.ApplyMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) FROM apply WHERE (receive_user_id = ? AND status = ? AND last_apply_time > ?)
06:18:09:115 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.q.chat.mapper.ApplyMapper.selectCount  : ==> Parameters: Udkq7qzrl98r(String), 0(Integer), 1737292528610(Long)
06:18:09:116 DEBUG 25908 --- [nioEventLoopGroup-3-1] c.q.chat.mapper.ApplyMapper.selectCount  : <==      Total: 1
06:18:42:036  INFO 25908 --- [nioEventLoopGroup-3-2] c.q.c.websocket.netty.HandlerWebSocket   : 建立连接
06:18:42:041  INFO 25908 --- [nioEventLoopGroup-3-2] c.q.c.websocket.netty.HandlerWebSocket   : token:a139ea780b28bc041adc095789f19ed7
06:18:42:049 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.updateById  : ==>  Preparing: UPDATE user SET last_login_time=? WHERE user_id=?
06:18:42:049 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.updateById  : ==> Parameters: 2025-01-20T06:18:42.044089200(LocalDateTime), Urgemzm17hdh(String)
06:18:42:057 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.updateById  : <==    Updates: 1
06:18:42:058 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.selectById  : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE user_id=?
06:18:42:058 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.selectById  : ==> Parameters: Urgemzm17hdh(String)
06:18:42:060 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.selectById  : <==      Total: 1
06:18:42:061 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.q.c.m.U.selectAllUserSession           : ==>  Preparing: select u.* , s.last_message , s.last_receive_time , case when substring(u.contact_id, 1, 1) = 'G' then (select count(*) from `group` g where g.group_id = u.contact_id) else 0 end as memberCount from user_session u, session s where u.session_id = s.session_id and u.user_id = ? order by s.last_receive_time desc
06:18:42:061 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.q.c.m.U.selectAllUserSession           : ==> Parameters: Urgemzm17hdh(String)
06:18:42:063 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.q.c.m.U.selectAllUserSession           : <==      Total: 1
06:18:42:066 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.q.c.mapper.MessageMapper.selectList    : ==>  Preparing: SELECT message_id,session_id,message_type,message_content,send_user_id,send_user_nick_name,send_time,contact_id,contact_type,file_size,file_name,file_type,status FROM message WHERE (contact_id IN (?) AND send_time > ?)
06:18:42:066 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.q.c.mapper.MessageMapper.selectList    : ==> Parameters: Urgemzm17hdh(String), 1737323308271(Long)
06:18:42:068 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.q.c.mapper.MessageMapper.selectList    : <==      Total: 1
06:18:42:070 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.q.chat.mapper.ApplyMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) FROM apply WHERE (receive_user_id = ? AND status = ? AND last_apply_time > ?)
06:18:42:071 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.q.chat.mapper.ApplyMapper.selectCount  : ==> Parameters: Urgemzm17hdh(String), 0(Integer), 1737323308271(Long)
06:18:42:072 DEBUG 25908 --- [nioEventLoopGroup-3-2] c.q.chat.mapper.ApplyMapper.selectCount  : <==      Total: 1
06:19:16:156  INFO 25908 --- [http-nio-8000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
06:19:16:156  INFO 25908 --- [http-nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
06:19:16:157  INFO 25908 --- [http-nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
06:19:16:190 DEBUG 25908 --- [http-nio-8000-exec-1] c.q.chat.mapper.ContactMapper.selectOne  : ==>  Preparing: SELECT user_id,contact_id,contact_type,create_time,status,last_update_time FROM contact WHERE (user_id = ? AND contact_id = ?)
06:19:16:190 DEBUG 25908 --- [http-nio-8000-exec-1] c.q.chat.mapper.ContactMapper.selectOne  : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String)
06:19:16:192 DEBUG 25908 --- [http-nio-8000-exec-1] c.q.chat.mapper.ContactMapper.selectOne  : <==      Total: 0
06:19:16:192 DEBUG 25908 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectById  : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE user_id=?
06:19:16:192 DEBUG 25908 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectById  : ==> Parameters: Urgemzm17hdh(String)
06:19:16:193 DEBUG 25908 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectById  : <==      Total: 1
06:19:16:195 DEBUG 25908 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.ApplyMapper.selectOne  : ==>  Preparing: SELECT apply_id,apply_user_id,receive_user_id,contact_type,contact_id,last_apply_time,status,apply_info FROM apply WHERE (apply_user_id = ? AND contact_id = ? AND receive_user_id = ?)
06:19:16:196 DEBUG 25908 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.ApplyMapper.selectOne  : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String), Urgemzm17hdh(String)
06:19:16:196 DEBUG 25908 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.ApplyMapper.selectOne  : <==      Total: 0
06:19:16:197 DEBUG 25908 --- [http-nio-8000-exec-1] com.qyp.chat.mapper.ApplyMapper.insert   : ==>  Preparing: INSERT INTO apply ( apply_user_id, receive_user_id, contact_type, contact_id, last_apply_time, status, apply_info ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
06:19:16:198 DEBUG 25908 --- [http-nio-8000-exec-1] com.qyp.chat.mapper.ApplyMapper.insert   : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String), 0(Integer), Urgemzm17hdh(String), 1737325156187(Long), 0(Integer), 我是第一人(String)
06:19:16:199 DEBUG 25908 --- [http-nio-8000-exec-1] com.qyp.chat.mapper.ApplyMapper.insert   : <==    Updates: 1
06:19:16:230  INFO 25908 --- [redisson-7-2] com.qyp.chat.websocket.MessageHandler    : 收到广播消息：{"contactId":"Urgemzm17hdh","messageType":4}
06:21:50:733  INFO 26532 --- [main] com.qyp.chat.ChatApplication             : Starting ChatApplication using Java 11.0.12 on LAPTOP-C6F2EJ6P with PID 26532 (D:\Users\qyp\Documents\ideaProjects\Chat\target\classes started by qyp in D:\Users\qyp\Documents\ideaProjects\Chat)
06:21:50:734 DEBUG 26532 --- [main] com.qyp.chat.ChatApplication             : Running with Spring Boot v2.7.12, Spring v5.3.27
06:21:50:735  INFO 26532 --- [main] com.qyp.chat.ChatApplication             : The following 1 profile is active: "dev"
06:21:51:212  INFO 26532 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
06:21:51:213  INFO 26532 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
06:21:51:243  INFO 26532 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
06:21:51:556  INFO 26532 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8000 (http)
06:21:51:561  INFO 26532 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
06:21:51:561  INFO 26532 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
06:21:51:654  INFO 26532 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
06:21:51:655  INFO 26532 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 899 ms
06:21:52:627  INFO 26532 --- [main] org.redisson.Version                     : Redisson 3.17.1
06:21:52:728  INFO 26532 --- [redisson-netty-6-18] o.r.c.pool.MasterPubSubConnectionPool    : 1 connections initialized for 192.168.15.155/192.168.15.155:6379
06:21:52:761  INFO 26532 --- [redisson-netty-6-19] o.r.c.pool.MasterConnectionPool          : 24 connections initialized for 192.168.15.155/192.168.15.155:6379
06:21:53:061  INFO 26532 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
06:21:53:118  INFO 26532 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
06:21:53:237  INFO 26532 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8000 (http) with context path '/api'
06:21:53:238  INFO 26532 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
06:21:53:240  INFO 26532 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
06:21:53:255  INFO 26532 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
06:21:53:345  INFO 26532 --- [main] com.qyp.chat.ChatApplication             : Started ChatApplication in 2.818 seconds (JVM running for 3.391)
06:21:53:346  INFO 26532 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
06:21:53:479  INFO 26532 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
06:21:53:667  INFO 26532 --- [main] com.qyp.chat.InitRun                     : 服务启动成功。
06:21:53:678  INFO 26532 --- [Thread-2] c.q.c.w.netty.NettyWebSocketStarter      : netty启动
06:22:01:422  INFO 26532 --- [http-nio-8000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
06:22:01:422  INFO 26532 --- [http-nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
06:22:01:423  INFO 26532 --- [http-nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
06:22:01:522 DEBUG 26532 --- [http-nio-8000-exec-1] c.q.chat.mapper.ContactMapper.selectOne  : ==>  Preparing: SELECT user_id,contact_id,contact_type,create_time,status,last_update_time FROM contact WHERE (user_id = ? AND contact_id = ?)
06:22:01:535 DEBUG 26532 --- [http-nio-8000-exec-1] c.q.chat.mapper.ContactMapper.selectOne  : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String)
06:22:01:547 DEBUG 26532 --- [http-nio-8000-exec-1] c.q.chat.mapper.ContactMapper.selectOne  : <==      Total: 0
06:22:01:551 DEBUG 26532 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectById  : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE user_id=?
06:22:01:551 DEBUG 26532 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectById  : ==> Parameters: Urgemzm17hdh(String)
06:22:01:555 DEBUG 26532 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.UserMapper.selectById  : <==      Total: 1
06:22:01:556 DEBUG 26532 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.ApplyMapper.selectOne  : ==>  Preparing: SELECT apply_id,apply_user_id,receive_user_id,contact_type,contact_id,last_apply_time,status,apply_info FROM apply WHERE (apply_user_id = ? AND contact_id = ? AND receive_user_id = ?)
06:22:01:557 DEBUG 26532 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.ApplyMapper.selectOne  : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String), Urgemzm17hdh(String)
06:22:01:558 DEBUG 26532 --- [http-nio-8000-exec-1] c.qyp.chat.mapper.ApplyMapper.selectOne  : <==      Total: 1
06:22:01:562 DEBUG 26532 --- [http-nio-8000-exec-1] com.qyp.chat.mapper.ApplyMapper.update   : ==>  Preparing: UPDATE apply SET last_apply_time=?, status=?, apply_info=? WHERE (apply_user_id = ? AND contact_id = ? AND receive_user_id = ?)
06:22:01:562 DEBUG 26532 --- [http-nio-8000-exec-1] com.qyp.chat.mapper.ApplyMapper.update   : ==> Parameters: 1737325321484(Long), 0(Integer), 我是第一人(String), Udkq7qzrl98r(String), Urgemzm17hdh(String), Urgemzm17hdh(String)
06:22:01:564 DEBUG 26532 --- [http-nio-8000-exec-1] com.qyp.chat.mapper.ApplyMapper.update   : <==    Updates: 1
06:22:29:735  INFO 26532 --- [nioEventLoopGroup-3-1] c.q.c.websocket.netty.HandlerWebSocket   : 建立连接
06:22:29:748  INFO 26532 --- [nioEventLoopGroup-3-1] c.q.c.websocket.netty.HandlerWebSocket   : token:038d9416762341b7eff117b3baf6ed2c
06:22:29:760 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.qyp.chat.mapper.UserMapper.updateById  : ==>  Preparing: UPDATE user SET last_login_time=? WHERE user_id=?
06:22:29:761 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.qyp.chat.mapper.UserMapper.updateById  : ==> Parameters: 2025-01-20T06:22:29.758512900(LocalDateTime), Udkq7qzrl98r(String)
06:22:29:768 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.qyp.chat.mapper.UserMapper.updateById  : <==    Updates: 1
06:22:29:769 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.qyp.chat.mapper.UserMapper.selectById  : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE user_id=?
06:22:29:769 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.qyp.chat.mapper.UserMapper.selectById  : ==> Parameters: Udkq7qzrl98r(String)
06:22:29:770 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.qyp.chat.mapper.UserMapper.selectById  : <==      Total: 1
06:22:29:771 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.q.c.m.U.selectAllUserSession           : ==>  Preparing: select u.* , s.last_message , s.last_receive_time , case when substring(u.contact_id, 1, 1) = 'G' then (select count(*) from `group` g where g.group_id = u.contact_id) else 0 end as memberCount from user_session u, session s where u.session_id = s.session_id and u.user_id = ? order by s.last_receive_time desc
06:22:29:771 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.q.c.m.U.selectAllUserSession           : ==> Parameters: Udkq7qzrl98r(String)
06:22:29:773 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.q.c.m.U.selectAllUserSession           : <==      Total: 1
06:22:29:776 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.q.c.mapper.MessageMapper.selectList    : ==>  Preparing: SELECT message_id,session_id,message_type,message_content,send_user_id,send_user_nick_name,send_time,contact_id,contact_type,file_size,file_name,file_type,status FROM message WHERE (contact_id IN (?) AND send_time > ?)
06:22:29:776 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.q.c.mapper.MessageMapper.selectList    : ==> Parameters: Udkq7qzrl98r(String), 1737292528610(Long)
06:22:29:778 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.q.c.mapper.MessageMapper.selectList    : <==      Total: 0
06:22:29:779 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.q.chat.mapper.ApplyMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) FROM apply WHERE (receive_user_id = ? AND status = ? AND last_apply_time > ?)
06:22:29:779 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.q.chat.mapper.ApplyMapper.selectCount  : ==> Parameters: Udkq7qzrl98r(String), 0(Integer), 1737292528610(Long)
06:22:29:781 DEBUG 26532 --- [nioEventLoopGroup-3-1] c.q.chat.mapper.ApplyMapper.selectCount  : <==      Total: 1
06:22:36:158  INFO 26532 --- [nioEventLoopGroup-3-2] c.q.c.websocket.netty.HandlerWebSocket   : 建立连接
06:22:36:162  INFO 26532 --- [nioEventLoopGroup-3-2] c.q.c.websocket.netty.HandlerWebSocket   : token:a139ea780b28bc041adc095789f19ed7
06:22:36:167 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.updateById  : ==>  Preparing: UPDATE user SET last_login_time=? WHERE user_id=?
06:22:36:168 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.updateById  : ==> Parameters: 2025-01-20T06:22:36.164830300(LocalDateTime), Urgemzm17hdh(String)
06:22:36:175 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.updateById  : <==    Updates: 1
06:22:36:176 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.selectById  : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE user_id=?
06:22:36:176 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.selectById  : ==> Parameters: Urgemzm17hdh(String)
06:22:36:178 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.selectById  : <==      Total: 1
06:22:36:179 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.q.c.m.U.selectAllUserSession           : ==>  Preparing: select u.* , s.last_message , s.last_receive_time , case when substring(u.contact_id, 1, 1) = 'G' then (select count(*) from `group` g where g.group_id = u.contact_id) else 0 end as memberCount from user_session u, session s where u.session_id = s.session_id and u.user_id = ? order by s.last_receive_time desc
06:22:36:180 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.q.c.m.U.selectAllUserSession           : ==> Parameters: Urgemzm17hdh(String)
06:22:36:182 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.q.c.m.U.selectAllUserSession           : <==      Total: 1
06:22:36:184 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.q.c.mapper.MessageMapper.selectList    : ==>  Preparing: SELECT message_id,session_id,message_type,message_content,send_user_id,send_user_nick_name,send_time,contact_id,contact_type,file_size,file_name,file_type,status FROM message WHERE (contact_id IN (?) AND send_time > ?)
06:22:36:184 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.q.c.mapper.MessageMapper.selectList    : ==> Parameters: Urgemzm17hdh(String), 1737323308271(Long)
06:22:36:185 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.q.c.mapper.MessageMapper.selectList    : <==      Total: 1
06:22:36:186 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.q.chat.mapper.ApplyMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) FROM apply WHERE (receive_user_id = ? AND status = ? AND last_apply_time > ?)
06:22:36:186 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.q.chat.mapper.ApplyMapper.selectCount  : ==> Parameters: Urgemzm17hdh(String), 0(Integer), 1737323308271(Long)
06:22:36:187 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.q.chat.mapper.ApplyMapper.selectCount  : <==      Total: 1
06:22:42:918  INFO 26532 --- [nioEventLoopGroup-3-2] c.q.c.websocket.netty.HandlerWebSocket   : 断开连接
06:22:42:922 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.updateById  : ==>  Preparing: UPDATE user SET last_off_time=? WHERE user_id=?
06:22:42:923 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.updateById  : ==> Parameters: 1737325362921(Long), Urgemzm17hdh(String)
06:22:42:926 DEBUG 26532 --- [nioEventLoopGroup-3-2] c.qyp.chat.mapper.UserMapper.updateById  : <==    Updates: 1
06:22:44:985  INFO 26532 --- [nioEventLoopGroup-3-3] c.q.c.websocket.netty.HandlerWebSocket   : 建立连接
06:22:44:989  INFO 26532 --- [nioEventLoopGroup-3-3] c.q.c.websocket.netty.HandlerWebSocket   : token:a139ea780b28bc041adc095789f19ed7
06:22:44:993 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.qyp.chat.mapper.UserMapper.updateById  : ==>  Preparing: UPDATE user SET last_login_time=? WHERE user_id=?
06:22:44:993 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.qyp.chat.mapper.UserMapper.updateById  : ==> Parameters: 2025-01-20T06:22:44.991936700(LocalDateTime), Urgemzm17hdh(String)
06:22:44:997 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.qyp.chat.mapper.UserMapper.updateById  : <==    Updates: 1
06:22:44:997 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.qyp.chat.mapper.UserMapper.selectById  : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE user_id=?
06:22:44:998 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.qyp.chat.mapper.UserMapper.selectById  : ==> Parameters: Urgemzm17hdh(String)
06:22:44:999 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.qyp.chat.mapper.UserMapper.selectById  : <==      Total: 1
06:22:44:999 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.q.c.m.U.selectAllUserSession           : ==>  Preparing: select u.* , s.last_message , s.last_receive_time , case when substring(u.contact_id, 1, 1) = 'G' then (select count(*) from `group` g where g.group_id = u.contact_id) else 0 end as memberCount from user_session u, session s where u.session_id = s.session_id and u.user_id = ? order by s.last_receive_time desc
06:22:45:000 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.q.c.m.U.selectAllUserSession           : ==> Parameters: Urgemzm17hdh(String)
06:22:45:002 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.q.c.m.U.selectAllUserSession           : <==      Total: 1
06:22:45:004 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.q.c.mapper.MessageMapper.selectList    : ==>  Preparing: SELECT message_id,session_id,message_type,message_content,send_user_id,send_user_nick_name,send_time,contact_id,contact_type,file_size,file_name,file_type,status FROM message WHERE (contact_id IN (?) AND send_time > ?)
06:22:45:004 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.q.c.mapper.MessageMapper.selectList    : ==> Parameters: Urgemzm17hdh(String), 1737325362921(Long)
06:22:45:005 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.q.c.mapper.MessageMapper.selectList    : <==      Total: 0
06:22:45:007 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.q.chat.mapper.ApplyMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) FROM apply WHERE (receive_user_id = ? AND status = ? AND last_apply_time > ?)
06:22:45:008 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.q.chat.mapper.ApplyMapper.selectCount  : ==> Parameters: Urgemzm17hdh(String), 0(Integer), 1737325362921(Long)
06:22:45:016 DEBUG 26532 --- [nioEventLoopGroup-3-3] c.q.chat.mapper.ApplyMapper.selectCount  : <==      Total: 1
06:23:09:153 DEBUG 26532 --- [http-nio-8000-exec-2] c.q.chat.mapper.ContactMapper.selectOne  : ==>  Preparing: SELECT user_id,contact_id,contact_type,create_time,status,last_update_time FROM contact WHERE (user_id = ? AND contact_id = ?)
06:23:09:154 DEBUG 26532 --- [http-nio-8000-exec-2] c.q.chat.mapper.ContactMapper.selectOne  : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String)
06:23:09:161 DEBUG 26532 --- [http-nio-8000-exec-2] c.q.chat.mapper.ContactMapper.selectOne  : <==      Total: 0
06:23:09:162 DEBUG 26532 --- [http-nio-8000-exec-2] c.qyp.chat.mapper.UserMapper.selectById  : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE user_id=?
06:23:09:163 DEBUG 26532 --- [http-nio-8000-exec-2] c.qyp.chat.mapper.UserMapper.selectById  : ==> Parameters: Urgemzm17hdh(String)
06:23:09:164 DEBUG 26532 --- [http-nio-8000-exec-2] c.qyp.chat.mapper.UserMapper.selectById  : <==      Total: 1
06:23:09:166 DEBUG 26532 --- [http-nio-8000-exec-2] c.qyp.chat.mapper.ApplyMapper.selectOne  : ==>  Preparing: SELECT apply_id,apply_user_id,receive_user_id,contact_type,contact_id,last_apply_time,status,apply_info FROM apply WHERE (apply_user_id = ? AND contact_id = ? AND receive_user_id = ?)
06:23:09:167 DEBUG 26532 --- [http-nio-8000-exec-2] c.qyp.chat.mapper.ApplyMapper.selectOne  : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String), Urgemzm17hdh(String)
06:23:09:168 DEBUG 26532 --- [http-nio-8000-exec-2] c.qyp.chat.mapper.ApplyMapper.selectOne  : <==      Total: 1
06:23:09:171 DEBUG 26532 --- [http-nio-8000-exec-2] com.qyp.chat.mapper.ApplyMapper.update   : ==>  Preparing: UPDATE apply SET last_apply_time=?, status=?, apply_info=? WHERE (apply_user_id = ? AND contact_id = ? AND receive_user_id = ?)
06:23:09:171 DEBUG 26532 --- [http-nio-8000-exec-2] com.qyp.chat.mapper.ApplyMapper.update   : ==> Parameters: 1737325389151(Long), 0(Integer), 我是第一人(String), Udkq7qzrl98r(String), Urgemzm17hdh(String), Urgemzm17hdh(String)
06:23:09:173 DEBUG 26532 --- [http-nio-8000-exec-2] com.qyp.chat.mapper.ApplyMapper.update   : <==    Updates: 1
06:24:49:463 DEBUG 26532 --- [http-nio-8000-exec-5] c.q.chat.mapper.ContactMapper.selectOne  : ==>  Preparing: SELECT user_id,contact_id,contact_type,create_time,status,last_update_time FROM contact WHERE (user_id = ? AND contact_id = ?)
06:24:49:464 DEBUG 26532 --- [http-nio-8000-exec-5] c.q.chat.mapper.ContactMapper.selectOne  : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String)
06:24:49:465 DEBUG 26532 --- [http-nio-8000-exec-5] c.q.chat.mapper.ContactMapper.selectOne  : <==      Total: 0
06:24:49:466 DEBUG 26532 --- [http-nio-8000-exec-5] c.qyp.chat.mapper.UserMapper.selectById  : ==>  Preparing: SELECT user_id,email,nick_name,join_type,sex,password,personal_signature,status,create_time,last_login_time,area_name,area_code,last_off_time FROM user WHERE user_id=?
06:24:49:466 DEBUG 26532 --- [http-nio-8000-exec-5] c.qyp.chat.mapper.UserMapper.selectById  : ==> Parameters: Urgemzm17hdh(String)
06:24:49:467 DEBUG 26532 --- [http-nio-8000-exec-5] c.qyp.chat.mapper.UserMapper.selectById  : <==      Total: 1
06:24:49:469 DEBUG 26532 --- [http-nio-8000-exec-5] c.qyp.chat.mapper.ApplyMapper.selectOne  : ==>  Preparing: SELECT apply_id,apply_user_id,receive_user_id,contact_type,contact_id,last_apply_time,status,apply_info FROM apply WHERE (apply_user_id = ? AND contact_id = ? AND receive_user_id = ?)
06:24:49:470 DEBUG 26532 --- [http-nio-8000-exec-5] c.qyp.chat.mapper.ApplyMapper.selectOne  : ==> Parameters: Udkq7qzrl98r(String), Urgemzm17hdh(String), Urgemzm17hdh(String)
06:24:49:471 DEBUG 26532 --- [http-nio-8000-exec-5] c.qyp.chat.mapper.ApplyMapper.selectOne  : <==      Total: 1
06:24:49:473 DEBUG 26532 --- [http-nio-8000-exec-5] com.qyp.chat.mapper.ApplyMapper.update   : ==>  Preparing: UPDATE apply SET last_apply_time=?, status=?, apply_info=? WHERE (apply_user_id = ? AND contact_id = ? AND receive_user_id = ?)
06:24:49:474 DEBUG 26532 --- [http-nio-8000-exec-5] com.qyp.chat.mapper.ApplyMapper.update   : ==> Parameters: 1737325489462(Long), 0(Integer), 我是第一人(String), Udkq7qzrl98r(String), Urgemzm17hdh(String), Urgemzm17hdh(String)
06:24:49:475 DEBUG 26532 --- [http-nio-8000-exec-5] com.qyp.chat.mapper.ApplyMapper.update   : <==    Updates: 1
06:24:49:504  INFO 26532 --- [redisson-7-2] com.qyp.chat.websocket.MessageHandler    : 收到广播消息：{"contactId":"Urgemzm17hdh","lastMessage":"我是第一人","messageContent":"我是第一人","messageType":4}
